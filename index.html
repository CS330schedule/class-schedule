<!DOCTYPE html>

<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="components/css/login.css">
<link rel="stylesheet" href="home.css">

<head>
  <title>Course Planner</title>  
  <link rel="icon" href="https://common.northwestern.edu/v8/icons/favicon-228.png" type="image/x-icon">
</head>


<header id="index-header">
  <a href="#" id="login" onclick="document.getElementById('id01').style.display='block';
                                  document.getElementById('wrongpass').style.display = 'none';
                                  document.getElementById('createaccount-button').style.display =  'none';
                                  document.getElementById('login-button').style.display = 'block';">
    <p>Log In</p>
  </a>
  <a href="#" id="singup" onclick="document.getElementById('id01').style.display='block';
                                    document.getElementById('wrongpass').style.display = 'none';
                                    document.getElementById('createaccount-button').style.display =  'block';
                                    document.getElementById('login-button').style.display = 'none';">
    <p>Sign up</p>
  </a>

</header>


<body>

  <aside id="sidebar">
    <h1 id="greeting">
        Hello, Guest!
    </h1>
    <h2 id="major-header">
        Major X
    </h2>
    <section class="artist-card" id="class1">
        Class 1
    </section>
    <section class="artist-card" id="class2">
        Class 2
    </section>       
    <section class="artist-card" id="class3">
        Class 3
    </section>
    <section class="artist-card" id="class4">
        Class 4
    </section>
    <section class="artist-card" id="class5">
        Class 5
    </section>
    <section class="artist-card" id="class6">
        Class 6
    </section>
    <section class="artist-card" id="class7">
        Class 7
    </section>
  </aside>
  <script src="https://kit.fontawesome.com/62a7c74d0d.js" crossorigin="anonymous"></script>


  <!-- Modal for login page -->
  <div id="id01" class="modal">
    <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Login Window">&times;</span>
    <form class="modal-content animate", method="POST", id="userlogin">

      <header id="login-header">
        <div class="imgcontainer">
          <img src="https://common.northwestern.edu/v8/icons/favicon-228.png" alt="Avatar" class="avatar" class="avatar">
        </div>
        <h1 id="login-header-text">Course Planner</h1>
      </header>

      
      <div class="container" id="login-body">
        <label for="uname"><b>Username</b></label>
        <input type="text" placeholder="Enter Username" name="uname" required>
    
        <label for="psw"><b>Password</b></label>
        <input type="password" placeholder="Enter Password" name="psw" required>
        <p id="wrongpass">Incorrect Password</p>
    
        <button type="button" id="login-button" onclick="loginFields()">Login</button>
        <button type="button" id="createaccount-button" onclick="makeAccount()">Create Account</button>
      </div>
    </form>
  </div>
</body>

<script>
  var activeUser = {username: "Guest", password: "", classes: []};

  let users = [
    {username: "willie", password: "wildcat", major: "Computer Science Major", classes: ["Comp_Sci 111", "Comp_Sci 211", "Comp_Sci212", "Comp_Sci213", "Comp_Sci 214", "Comp_Sci 330"]}
  ];

  function loginFields() {
    var loginData = document.getElementById("userlogin");
    tryLogin(loginData.elements[0].value, loginData.elements[1].value);
  }

  function tryLogin(name, pass) {
    for (user of users) {
      if (user.username == name) {
        if (user.password == pass) {
          activeUser = user;
          document.getElementById("greeting").innerHTML = activeUser.username;
          updateClasses();
          document.getElementById('id01').style.display = "none";
        }
        else {
          document.getElementById('wrongpass').style.display = "block";
        }
      }
      else {
        alert('username not found');
      }
    }
  }

  function makeAccount() {
      var loginData = document.getElementById("userlogin");
      users.push[{username: loginData.elements[0].value, password: loginData.elements[1].value}];
  }


  function updateClasses() {
    document.getElementById('major-header').innerHTML = activeUser.major;
    let i = 1;
    for (clss of activeUser.classes) {
      document.getElementById('class'+i).innerHTML = clss;
      document.getElementById('class'+i).style.display = 'block';
      i++;
    }
  }
  </script>

</html>
